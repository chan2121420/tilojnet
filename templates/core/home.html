{% extends 'base.html' %}
{% load static %}

{% block content %}

<section style="min-height: 100vh; display: flex; align-items: center; margin-top: 76px; position: relative; overflow: hidden;">
    {% if hero_slides %}
    {% with hero_slides|first as slide %}
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;">
        <img src="{{ slide.image.url }}" alt="{{ slide.title }}" style="width: 100%; height: 100%; object-fit: cover; filter: brightness(0.4);">
    </div>
    <div class="container" style="position: relative; z-index: 1;">
        <div style="max-width: 900px;">
            <h1 class="fade-in-up" style="color: var(--pure-white); margin-bottom: var(--space-md);">
                {{ slide.title }}
            </h1>
            <p class="lead fade-in-up delay-1" style="color: rgba(255, 255, 255, 0.9); margin-bottom: var(--space-lg); max-width: 600px;">
                {{ slide.subtitle }}
            </p>
            <div class="fade-in-up delay-2" style="display: flex; gap: var(--space-md); flex-wrap: wrap;">
                <a href="{{ slide.cta_link }}" class="btn-primary">{{ slide.cta_text }}</a>
                <a href="{% url 'projects_list' %}" class="btn-secondary" style="background: rgba(255, 255, 255, 0.1); color: var(--pure-white); border-color: rgba(255, 255, 255, 0.3);">View Our Work</a>
            </div>
        </div>
    </div>
    {% endwith %}
    {% else %}
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;">
        <img src="https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=1920" alt="Premium Interior" style="width: 100%; height: 100%; object-fit: cover; filter: brightness(0.4);">
    </div>
    <div class="container" style="position: relative; z-index: 1;">
        <div style="max-width: 900px;">
            <h1 class="fade-in-up" style="color: var(--pure-white); margin-bottom: var(--space-md);">
                Sophisticated Spaces<br>for Discerning Clients
            </h1>
            <p class="lead fade-in-up delay-1" style="color: rgba(255, 255, 255, 0.9); margin-bottom: var(--space-lg); max-width: 600px;">
                We create timeless interiors that balance aesthetic excellence with functional precision.
            </p>
            <div class="fade-in-up delay-2" style="display: flex; gap: var(--space-md); flex-wrap: wrap;">
                <a href="{% url 'quote_request' %}" class="btn-primary">Request Consultation</a>
                <a href="{% url 'projects_list' %}" class="btn-secondary" style="background: rgba(255, 255, 255, 0.1); color: var(--pure-white); border-color: rgba(255, 255, 255, 0.3);">View Our Work</a>
            </div>
        </div>
    </div>
    {% endif %}
</section>

<section style="background: var(--charcoal); color: var(--pure-white); padding: var(--space-lg) 0;">
    <div class="container">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); text-align: center;">
            <div>
                <div style="font-family: var(--font-display); font-size: 3rem; font-weight: 300; color: var(--gold-accent); margin-bottom: var(--space-xs);">10+</div>
                <div style="font-size: 0.875rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--light-grey);">Years Established</div>
            </div>
            <div>
                <div style="font-family: var(--font-display); font-size: 3rem; font-weight: 300; color: var(--gold-accent); margin-bottom: var(--space-xs);">100+</div>
                <div style="font-size: 0.875rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--light-grey);">Projects Delivered</div>
            </div>
            <div>
                <div style="font-family: var(--font-display); font-size: 3rem; font-weight: 300; color: var(--gold-accent); margin-bottom: var(--space-xs);">95%</div>
                <div style="font-size: 0.875rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--light-grey);">Client Retention</div>
            </div>
            <div>
                <div style="font-family: var(--font-display); font-size: 3rem; font-weight: 300; color: var(--gold-accent); margin-bottom: var(--space-xs);">50+</div>
                <div style="font-size: 0.875rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--light-grey);">Industry Awards</div>
            </div>
        </div>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="container-narrow" style="text-align: center; margin-bottom: var(--space-xl);">
            <h2 style="margin-bottom: var(--space-md);">What We Do</h2>
            <p class="lead">We deliver comprehensive interior design solutions for residential and commercial spaces, focusing on timeless aesthetics and lasting value.</p>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-lg);">
            {% for category in featured_categories|slice:":3" %}
            <div style="border-top: 1px solid var(--light-grey); padding-top: var(--space-md); transition: var(--transition-smooth);">
                <h3 style="font-size: 1.75rem; margin-bottom: var(--space-sm);">{{ category.name }}</h3>
                <p style="margin-bottom: var(--space-md);">{{ category.description|truncatewords:20 }}</p>
                <a href="{% url 'category_detail' category.slug %}" class="btn-text">Explore {{ category.name }}</a>
            </div>
            {% endfor %}
        </div>
        
        <div style="text-align: center; margin-top: var(--space-xl);">
            <a href="{% url 'categories_list' %}" class="btn-secondary">View All Services</a>
        </div>
    </div>
</section>

<section style="background: var(--off-white); padding: var(--space-2xl) 0;">
    <div class="container">
        <div class="container-narrow" style="text-align: center; margin-bottom: var(--space-xl);">
            <h2 style="margin-bottom: var(--space-md);">Selected Work</h2>
            <p class="lead">A curated collection of our recent projects showcasing craftsmanship and attention to detail.</p>
        </div>
        
        <div style="display: grid; gap: var(--space-md);">
            {% for project in featured_projects|slice:":3" %}
            <a href="{% url 'project_detail' project.slug %}" style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-lg); align-items: center; text-decoration: none; color: inherit; {% if forloop.counter|divisibleby:2 %}direction: rtl;{% endif %}">
                <div style="overflow: hidden;">
                    <img src="{{ project.featured_image.url }}" alt="{{ project.title }}" style="width: 100%; height: 500px; object-fit: cover; transition: var(--transition-smooth);">
                </div>
                <div style="{% if forloop.counter|divisibleby:2 %}direction: ltr;{% endif %}">
                    <div style="font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--warm-grey); margin-bottom: var(--space-sm);">{{ project.category.name }}</div>
                    <h3 style="font-size: 2rem; margin-bottom: var(--space-sm);">{{ project.title }}</h3>
                    <p style="margin-bottom: var(--space-md); line-height: 1.8;">{{ project.short_description|truncatewords:25 }}</p>
                    <span class="btn-text">View Project</span>
                </div>
            </a>
            {% endfor %}
        </div>
        
        <div style="text-align: center; margin-top: var(--space-xl);">
            <a href="{% url 'projects_list' %}" class="btn-secondary">View Full Portfolio</a>
        </div>
    </div>
</section>

<section class="section">
    <div class="container">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-xl); align-items: center;">
            <div>
                <img src="https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?w=800" alt="About Tilojnet" style="width: 100%; height: 600px; object-fit: cover;">
            </div>
            <div>
                <div style="font-size: 0.75rem; letter-spacing: 0.1em; text-transform: uppercase; color: var(--warm-grey); margin-bottom: var(--space-sm);">Our Approach</div>
                <h2 style="margin-bottom: var(--space-md);">Design Built on Expertise</h2>
                <p style="margin-bottom: var(--space-md);">
                    We approach each project with the understanding that interior design is not decorationâ€”it's architecture for living. Our team brings together specialists in space planning, material selection, and custom fabrication to deliver environments that endure.
                </p>
                <p style="margin-bottom: var(--space-lg);">
                    With over a decade of experience serving discerning clients, we've refined a process that balances creative vision with practical execution. The result: spaces that reflect your needs while exceeding your expectations.
                </p>
                <a href="{% url 'about' %}" class="btn-text">Learn About Our Process</a>
            </div>
        </div>
    </div>
</section>

<section style="background: var(--off-white); padding: var(--space-2xl) 0;">
    <div class="container-narrow">
        <div style="text-align: center; margin-bottom: var(--space-xl);">
            <h2>Client Testimonials</h2>
        </div>
        
        {% for testimonial in testimonials|slice:":2" %}
        <div style="border-top: 1px solid var(--light-grey); padding: var(--space-lg) 0;">
            <p style="font-family: var(--font-display); font-size: 1.5rem; line-height: 1.6; margin-bottom: var(--space-md); color: var(--charcoal);">
                "{{ testimonial.testimonial_text }}"
            </p>
            <div>
                <div style="font-weight: 500; margin-bottom: 0.25rem;">{{ testimonial.client_name }}</div>
                <div style="font-size: 0.875rem; color: var(--warm-grey);">{{ testimonial.client_position }}{% if testimonial.client_company %}, {{ testimonial.client_company }}{% endif %}</div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<section class="section">
    <div class="container-narrow" style="text-align: center;">
        <h2 style="margin-bottom: var(--space-md);">Ready to Begin?</h2>
        <p class="lead" style="margin-bottom: var(--space-lg);">
            Schedule a consultation to discuss your project requirements and explore how we can bring your vision to life.
        </p>
        <a href="{% url 'quote_request' %}" class="btn-primary">Request Consultation</a>
    </div>
</section>

<style>
/* Project hover effect */
section a[href*="project_detail"]:hover img {
    transform: scale(1.05);
}

@media (max-width: 768px) {
    section a[href*="project_detail"] {
        grid-template-columns: 1fr !important;
        direction: ltr !important;
    }
    
    section a[href*="project_detail"] > div:first-child {
        order: 1;
    }
    
    section a[href*="project_detail"] > div:last-child {
        order: 2;
        direction: ltr !important;
    }
    
    section div[style*="grid-template-columns: 1fr 1fr"] {
        grid-template-columns: 1fr !important;
    }
}
</style>

{% endblock %}